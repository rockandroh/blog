purrr::map(~Ad((get(.)))) %>% # get adjusted price from each of our individual price series
reduce(merge) %>%
'colnames<-'(names(ticker))
dim(stock_df)
df2$adj_p_Dec24= as.numeric(stock_df['2020-12-24'])
df3 = df2 %>%
mutate(new_div_est_2020 = round(DPS/adj_p_Dec24 *100 , 2)) %>%
select(-c(시장구분,adj_p_Dec24,adj_p_Nov11)) %>%
arrange(desc(new_div_est_2020)) %>%
add_column(순위 = as.character(1:20)) %>%
rename(., 종목명_old = 종목명) %>%
rowwise() %>%
mutate(종목명 = paste(순위, 종목명_old, sep='. '))
stock_df$GS홈쇼핑['2020-12-24'] = 143500
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df2, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
df2$adj_p_Dec24= as.numeric(stock_df['2020-12-24'])
df3 = df2 %>%
mutate(new_div_est_2020 = round(DPS/adj_p_Dec24 *100 , 2)) %>%
select(-c(시장구분,adj_p_Dec24)) %>%
arrange(desc(new_div_est_2020)) %>%
add_column(순위 = as.character(1:20)) %>%
rename(., 종목명_old = 종목명) %>%
rowwise() %>%
mutate(종목명 = paste(순위, 종목명_old, sep='. '))
stock_df$GS홈쇼핑['2020-12-24'] = 143500
colnames(stock_df) = df3$종목명
stock_df
start = "2020-12-04"
end = "2020-12-24"
stock_df =
getSymbols(ticker,
src = 'yahoo',
from = start,
to = end,
auto.assign = TRUE,
warnings = FALSE) %>%
purrr::map(~Ad((get(.)))) %>% # get adjusted price from each of our individual price series
reduce(merge) %>%
'colnames<-'(names(ticker))
stock_df$GS홈쇼핑['2020-12-24'] = 143500
dim(stock_df)
df2$adj_p_Dec24= as.numeric(stock_df['2020-12-24'])
df3 = df2 %>%
mutate(new_div_est_2020 = round(DPS/adj_p_Dec24 *100 , 2)) %>%
select(-c(시장구분,adj_p_Dec24)) %>%
arrange(desc(new_div_est_2020)) %>%
add_column(순위 = as.character(1:20)) %>%
rename(., 종목명_old = 종목명) %>%
rowwise() %>%
mutate(종목명 = paste(순위, 종목명_old, sep='. '))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
df2$adj_p_Dec24= as.numeric(stock_df['2020-12-24'])
df3 = df2 %>%
mutate(new_div_est_2020 = round(DPS/adj_p_Dec24 *100 , 2)) %>%
select(-c(시장구분,adj_p_Dec24)) %>%
arrange(desc(new_div_est_2020)) %>%
add_column(순위 = as.character(01:20)) %>%
rename(., 종목명_old = 종목명) %>%
rowwise() %>%
mutate(종목명 = paste(순위, 종목명_old, sep='. '))
df3
df2$adj_p_Dec24= as.numeric(stock_df['2020-12-24'])
df3 = df2 %>%
mutate(new_div_est_2020 = round(DPS/adj_p_Dec24 *100 , 2)) %>%
select(-c(시장구분,adj_p_Dec24)) %>%
arrange(desc(new_div_est_2020)) %>%
add_column(순위 = sprintf("%02d",c(1:20))) %>%
rename(., 종목명_old = 종목명) %>%
rowwise() %>%
mutate(종목명 = paste(순위, 종목명_old, sep='. '))
df3
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
df3
df3
stock_df
stock_df
df2$adj_p_Dec24= as.numeric(stock_df['2020-12-24'])
df3 = df2 %>%
add_column(id = index(.)) %>%
mutate(new_div_est_2020 = round(DPS/adj_p_Dec24 *100 , 2)) %>%
select(-c(시장구분,adj_p_Dec24)) %>%
arrange(desc(new_div_est_2020)) %>%
add_column(순위 = sprintf("%02d",c(1:20))) %>%
rename(., 종목명_old = 종목명) %>%
rowwise() %>%
mutate(종목명 = paste(순위, 종목명_old, sep='. ')) %>%
arrange(desc(idx))
df2$adj_p_Dec24= as.numeric(stock_df['2020-12-24'])
df3 = df2 %>%
add_column(id = index(.)) %>%
mutate(new_div_est_2020 = round(DPS/adj_p_Dec24 *100 , 2)) %>%
select(-c(시장구분,adj_p_Dec24)) %>%
arrange(desc(new_div_est_2020)) %>%
add_column(순위 = sprintf("%02d",c(1:20))) %>%
rename(., 종목명_old = 종목명) %>%
rowwise() %>%
mutate(종목명 = paste(순위, 종목명_old, sep='. ')) %>%
arrange(desc(id))
df3
df2$adj_p_Dec24= as.numeric(stock_df['2020-12-24'])
df3 = df2 %>%
add_column(id = index(.)) %>%
mutate(new_div_est_2020 = round(DPS/adj_p_Dec24 *100 , 2)) %>%
select(-c(시장구분,adj_p_Dec24)) %>%
arrange(desc(new_div_est_2020)) %>%
add_column(순위 = sprintf("%02d",c(1:20))) %>%
rename(., 종목명_old = 종목명) %>%
rowwise() %>%
mutate(종목명 = paste(순위, 종목명_old, sep='. ')) %>%
arrange(id)
df3
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "Red line refers to the price at Nov11",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "Red line refers to the price at Nov11 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
df2$adj_p_Dec24= as.numeric(stock_df['2020-12-24'])
df3 = df2 %>%
add_column(id = index(.)) %>%
mutate(new_div_est_2020 = round(DPS/adj_p_Dec24 *100 , 2)) %>%
select(-c(시장구분,adj_p_Dec24)) %>%
arrange(desc(new_div_est_2020)) %>%
add_column(순위 = sprintf("%02d",c(1:20))) %>%
rename(., 종목명_old = 종목명) %>%
rowwise() %>%
mutate(종목명 = paste(paste(순위, 종목명_old, sep='. '), new_div_est_2020, sep=" ")) %>%
arrange(id)
df3
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "Red line refers to the price at Nov11. Number is the rank of est. dividend rate \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "Red line refers to the price at Nov11. Front (end) number is the rank (value) of est. dividend rate \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "Red line refers to the price at Nov11 when the est. DPS was publicized. Front (end) number is the rank (value) of est. dividend rate newly calculated based on the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = "Dividend Stocks Dec4 - Dec24",
subtitle = "Red line refers to the price at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24",
subtitle = " Red line refers to the price at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_tq() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24",
subtitle = " Red line refers to the price at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm")))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24",
subtitle = " Red line refers to the price at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm"))) +
theme(plot.margin = unit(c(1,1,1,1), "cm"))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24",
subtitle = " Red line refers to the price at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on \n the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm"))) +
theme(plot.margin = unit(c(0.2,0.2,0.2,0.2), "cm"))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24 @rockandroh.com",
subtitle = " Red line refers to the price at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on \n the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm"))) +
theme(plot.margin = unit(c(0.2,0.2,0.2,0.2), "cm"))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24 [rockandroh.com]",
subtitle = " Red line refers to the price at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on \n the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm"))) +
theme(plot.margin = unit(c(0.2,0.2,0.2,0.2), "cm"))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24  @rockandroh.com",
subtitle = " Red line refers to the price at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on \n the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm"))) +
theme(plot.margin = unit(c(0.2,0.2,0.2,0.2), "cm"))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24  @rockandroh.com",
subtitle = " Red line refers to the closing price of each stock at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on \n the closing price of Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm"))) +
theme(plot.margin = unit(c(0.2,0.2,0.2,0.2), "cm"))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24  @rockandroh.com",
subtitle = " Red line refers to the closing price of each stock at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate calculated based on Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm"))) +
theme(plot.margin = unit(c(0.2,0.2,0.2,0.2), "cm"))
colnames(stock_df) = df3$종목명
df_final = as.data.table(stock_df)
df_melt = melt(df_final, measure.vars=2:21)
colnames(df_melt)=c('날짜','종목명','종가')
df_melt %>%
ggplot(., aes(x = 날짜, y=종가, group=종목명)) +
geom_hline(data = df3, aes(yintercept=adj_p_Nov11), col='red') +
geom_line() +
labs(title = " Dividend Stocks Dec4 - Dec24  @rockandroh.com",
subtitle = " Red line refers to the closing price of each stock at Nov11 when the est. DPS was publicized. \n Front (end) number is the rank (value) of est. dividend rate newly calculated based on Dec24 \n",
y = "Closing Price", x = "") +
coord_x_date(xlim = c(start, end)) +
theme(axis.title.y=element_blank(),
axis.text.y=element_blank(),
axis.ticks.y=element_blank()) +
facet_wrap(~종목명, ncol = 5, scale = "free_y") +
theme_void() +
theme(strip.background = element_rect(fill="white", colour="blue",size=1)) +
theme(strip.text.x = element_text(margin = margin(.1, 0, .1, 0, "cm"))) +
theme(plot.margin = unit(c(0.2,0.2,0.2,0.2), "cm"))
blogdown:::preview_site()
blogdown:::preview_site(startup = TRUE)
blogdown:::preview_site()
blogdown:::preview_site()
